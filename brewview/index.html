<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Bootstrap 101 Template</title>
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="./static/favicon.ico">
      
    <!-- Bootstrap -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="stylesheets/stylesheet.css" rel="stylesheet">
      
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
      
   
      
  </head>
  <body>
      
      <class nav="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">Brew view</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a href="#">Home</a></li>
            <li><a href="#about">About</a></li>
            <li><a href="#contact">Contact</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

      
    <div class="container">

      <div class="starter-template">
        <h1>BrewView v0.1 alpha! </h1>
        <p class="lead">In search of perfect fermentation</p>
      </div>
    </div><!-- /.container -->
   <div id="flot-placeholder" style="width:1300px;height:500px;margin:0 auto"></div>
      
   <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
     
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    
    <!-- Include flot -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/flot/0.8.3/jquery.flot.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/flot/0.8.3/jquery.flot.time.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/flot/0.8.3/jquery.flot.canvas.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/flot/0.8.3/jquery.flot.navigate.js"></script>
    
      
    <script type="text/javascript">
        
/*
        var d = [[-373597200000, 35.71], [-370918800000, 37.45], [-368326800000, 31.50], [-363056400000, 31.86], [-360378000000, 34.93], [-357699600000, 33.19], [-352429200000, 33.34], [-349837200000, 34.67], [-347158800000, 31.58], [-344480400000, 36.47], [-342061200000, 36.65], [-339382800000, 31.71], [-336790800000, 38.29], [-334112400000, 31.16], [-331520400000, 36.55], [-328842000000, 34.80], [-326163600000, 31.84], [-323571600000, 33.34], [-320893200000, 31.81], [-318301200000, 35.59], [-315622800000, 36.43], [-312944400000, 31.97], [-310438800000, 37.58], [-307760400000, 31.03], [-305168400000, 30.03], [-302490000000, 33.59], [-299898000000, 31.18], [-297219600000, 35.91], [-294541200000, 31.16], [-291949200000, 33.83], [-289270800000, 34.00], [-286678800000, 36.19], [-284000400000, 31.89], [-281322000000, 31.70], [-278902800000, 38.54], [-276224400000, 33.48], [-273632400000, 30.58], [-270954000000, 31.78], [-268362000000, 31.58], [-265683600000, 36.79], [-263005200000, 33.99], [-260413200000, 35.31], [-257734800000, 31.10], [-255142800000, 31.01], [-252464400000, 37.94], [-249786000000, 38.56], [-247366800000, 39.69], [-244688400000, 32.58], [-242096400000, 32.01], [-239418000000, 30.61], [-236826000000, 39.61], [-234147600000, 37.40], [-231469200000, 31.26], [-228877200000, 31.42], [-226198800000, 36.69], [-223606800000, 37.69], [-220928400000, 38.74], [-218250000000, 31.08], [-215830800000, 31.86], [-213152400000, 31.39], [-210560400000, 32.24], [-207882000000, 32.47], [-205290000000, 31.74], [-202611600000, 31.77], [-199933200000, 36.21], [-197341200000, 35.99], [-194662800000, 31.07], [-192070800000, 31.36], [-189392400000, 31.57], [-178938000000, 32.23], [-176259600000, 31.89], [-173667600000, 32.44], [-170989200000, 31.70], [-168310800000, 31.70], [-165718800000, 36.87], [-163040400000, 37.68], [-160448400000, 31.71], [-157770000000, 31.44], [-155091600000, 32.44], [-152672400000, 30.89], [-149994000000, 32.13], [-147402000000, 32.16], [-144723600000, 32.87], [-142131600000, 32.21], [-139453200000, 38.87], [-136774800000, 37.81], [-134182800000, 31.30], [-131504400000, 31.87], [-128912400000, 31.42], [-126234000000, 30.62], [-123555600000, 31.59], [-121136400000, 32.39], [-118458000000, 32.70], [-115866000000, 32.07], [-113187600000, 33.75], [-110595600000, 32.40], [-107917200000, 32.37], [-105238800000, 31.64], [-102646800000, 31.10], [-99968400000, 39.79], [-97376400000, 31.03], [-94698000000, 32.33], [-92019600000, 32.50], [-89600400000, 32.04], [-86922000000, 34.42], [-84330000000, 35.00], [-81651600000, 34.09], [-79059600000, 35], [-76381200000, 32.92], [-73702800000, 39.26], [-71110800000, 31.39], [-68432400000, 30.72], [-65840400000, 32.96], [-63162000000, 32.57], [-60483600000, 33.15], [-57978000000, 32.89], [-55299600000, 31.02], [-52707600000, 32.57], [-50029200000, 32.36], [-47437200000, 34.14], [-44758800000, 32.11], [-42080400000, 32.33], [-39488400000, 32.25], [-36810000000, 32.32], [-34218000000, 32.90], [-31539600000, 32.00], [-28861200000, 32.42], [-26442000000, 32.64], [-23763600000, 32.66], [-21171600000, 37.38], [-18493200000, 32.70], [-15901200000, 32.89], [-13222800000, 32.67], [-10544400000, 32.38]];
        
        
    for (var a in d) {
        d[a][1] = d[a][1] - 14;
    }
  */          
$(document).ready(function () {
       
var options = {
    series: {
      shadowSize: 10
    },
    xaxes: [{
            mode: "time",
            timeformat: "%d-%m\n%H:%M",                
            axisLabelUseCanvas: true,
            axisLabelFontSizePixels: 12,
            axisLabelFontFamily: 'Verdana, Arial',
            axisLabelPadding: 5
        }],
        yaxis: {        
            color: "black",
            tickDecimals: 2,
            axisLabel: "Temperature",
            axisLabelUseCanvas: true,
            axisLabelFontSizePixels: 12,
            axisLabelFontFamily: 'Verdana, Arial',
            axisLabelPadding: 5,
            min: 10,
            max: 30
        }
                ,
        grid: {
            hoverable: false,
            borderWidth: 1,
            mouseActiveRadius: 50,
            backgroundColor: { colors: ["#ffffff", "#F6F6F6"] },
            axisMargin: 20
        },
        zoom: {
           interactive: true
            },
        pan: {
                interactive: true
        }
};

$.get( "/beer", function( beerData ) {
    var tempData = [];
    var targetData = [];
    for (key in beerData) {
        if (beerData[key].end != 1) {
            var point = [beerData[key].date, beerData[key].beer];
            tempData.push(point);
            point = [beerData[key].date, beerData[key].target]
            targetData.push(point);
        }
    }

    var dataset = [
        {
            label: "Temp C",
            data: tempData,
            color: "#AA00F0",
            points: { fillColor: "#FF0000", show: true },
            lines: { show: true }
        },
        {
            label: "Target C",
            data: targetData,
            color: "#1100F0",
            points: {show: true },
            lines: { show: true }
        }
    ];

    $.plot($("#flot-placeholder"), dataset, options);
});

            
});

  </script>
  </body>
    

</html>